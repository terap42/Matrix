<!-- button.component.html -->
<button
  (click)="onClick($event)"
  [disabled]="isLoading || disabled"
  [ngClass]="[
    'flex items-center justify-center focus:outline-none transition-all duration-300 transform',
    sizeClasses,
    radiusClasses,
    backgroundClasses,
    textClasses,
    disabledClasses,
    widthClasses,
    'hover:scale-105',
    'active:scale-95',
    'relative overflow-hidden'
  ]"
>
  <!-- Effet ripple au clic -->
  <span 
    class="ripple-effect absolute rounded-full bg-white bg-opacity-30 animate-ripple"
    *ngIf="rippleActive"
    [style.left]="rippleX + 'px'"
    [style.top]="rippleY + 'px'"
  ></span>

  <!-- Effet d'ombre intérieur -->
  <span class="absolute inset-0 rounded-[inherit] opacity-0 bg-current mix-blend-overlay transition-opacity duration-500 pointer-events-none hover:opacity-10"></span>
  
  <!-- Effet de pression -->
  <span class="absolute inset-0 bg-current opacity-0 mix-blend-overlay transition-opacity pointer-events-none active:opacity-20 active:duration-75"></span>

  <!-- Icône avant le texte avec animation -->
  <ion-icon 
    *ngIf="iconStart && !isLoading" 
    [name]="iconStart" 
    [ngClass]="[
      iconSizeClasses,
      'mr-2 transition-transform duration-300 group-hover:rotate-12'
    ]"
  ></ion-icon>
  
  <!-- Indicateur de chargement avec animation améliorée -->
  <div *ngIf="isLoading" class="flex justify-center items-center pr-1">
    <div class="w-6 h-6 border-4 border-t-transparent border-white rounded-full animate-spin shadow-lg shadow-white/50"></div>
  </div>
  
  <!-- Texte du bouton avec animation d'apparition -->
  <span 
    class="relative transition-all duration-300" *ngIf="!isLoading"
    [ngClass]="[fontWeightClasses, '']"
  >{{ text }}</span>

  <span class="relative transition-all duration-300" *ngIf="isLoading">chargement...</span>
  
  <!-- Icône après le texte avec animation -->
  <ion-icon 
    *ngIf="iconEnd && !isLoading" 
    [name]="iconEnd" 
    [ngClass]="[
      iconSizeClasses,
      'ml-2 transition-transform duration-300 group-hover:-rotate-12'
    ]"
  ></ion-icon>
</button>